<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>小米8青春版立即购买-小米商城</title>
    <link rel="icon" href="images/favicon.ico" type="image/x-icon"/>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/swiper-3.4.2.min.css">
    <link rel="stylesheet" href="css/m8.css">
    <style>
        .swiper-container {
            width: 566px;
            height: 560px;
        }
        .swiper-pagination span{
            width: 50px;
            height: 2px;
            background: #666;
            border-radius: 0;
        }
    </style>
</head>
<body>
<div class="topbar">
    <div class="container">
        <div class="topleft">
            <a href="javascript:;">小米商城</a>
            <span class="sep">|</span>
            <a href="javascript:;">MIUI</a>
            <span class="sep">|</span>
            <a href="javascript:;">loT</a>
            <span class="sep">|</span>
            <a href="javascript:;">云服务</a>
            <span class="sep">|</span>
            <a href="javascript:;">金融</a>
            <span class="sep">|</span>
            <a href="javascript:;">有品</a>
            <span class="sep">|</span>
            <a href="javascript:;">小爱开放平台</a>
            <span class="sep">|</span>
            <a href="javascript:;">政企服务</a>
            <span class="sep">|</span>
            <a href="javascript:;">Select Region</a>
        </div>
        <div class="topright" id="topRight">
            <a href="javascript:;">
                <i></i>购物车(0)
            </a>
            <div class="shopCar">
                购物车中还没有商品，请赶紧选购
            </div>
        </div>
        <div class="topcenter">
            <a href="javascript:;">登陆</a>
            <span class="sep">|</span>
            <a href="javascript:;">注册</a>
            <span class="sep">|</span>
            <a href="javascript:;">消息通知</a>
        </div>
    </div>
</div>
<div class="header">
    <div class="container header-center">
        <div class="header-logo"></div>
        <div class="header-nav">
            <ul class="nav-list">
                <li class="nav-item">
                    <a  href="javascript:;" class="link  link1 active">全部商品分类</a>
                    <div class="hidden1 hidden2 ">
                        <ul>
                            <li><a href=###">手机电话卡
                                <span>></span></a>
                            </li>
                            <li><a href="###">电视盒子                                     <span>></span></a>
                            </li>
                            <li><a href=###">手机电话卡
                                <span>></span></a>
                            </li>
                            <li><a href="###">电视盒子                                     <span>></span></a>
                            </li>
                            <li><a href=###">手机电话卡
                                <span>></span></a>
                            </li>
                            <li><a href="###">电视盒子                                     <span>></span></a>
                            </li>
                            <li><a href=###">手机电话卡
                                <span>></span></a>
                            </li>
                            <li><a href="###">电视盒子                                     <span>></span></a>
                            </li>
                            <li><a href=###">手机电话卡
                                <span>></span></a>
                            </li>
                            <li><a href="###">电视盒子                                     <span>></span></a>
                            </li>
        
                        </ul>
        
                    </div>
                </li>
                <li class="nav-item">
                    <a href="javascript:;" class="link link2">小米手机</a>

                    <div class="hidden2">
                        <ul>
                            <li>
                                <div class="new">新品</div>
                                <a class="n1" href="###"> <img src="images/pingmu-320.png" alt=""></a>
                                <div class="list"><a href="###">小米8指纹解锁</a></div>
                                <p>3199起</p>
                            </li>
                            <li>
                                <div class="new">新品</div>
                                <a class="n1" href="###"> <img src="images/pingmu-320.png" alt=""></a>
                                <div class="list"><a href="###">小米8指纹解锁</a></div>
                                <p>3199起</p>
                            </li>
                            <li>
                                <div class="new">新品</div>
                                <a class="n1" href="###"> <img src="images/pingmu-320.png" alt=""></a>
                                <div class="list"><a href="###">小米8指纹解锁</a></div>
                                <p>3199起</p>
                            </li>
                            <li>
                                <div class="new">新品</div>
                                <a class="n1" href="###"> <img src="images/pingmu-320.png" alt=""></a>
                                <div class="list"><a href="###">小米8指纹解锁</a></div>
                                <p>3199起</p>
                            </li>
                        </ul>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="javascript:;" class="link link3" >红米</a>
                    <div class="hidden2">
                        <ul>
                            <li>
                                <div class="new">新品</div>
                                <a class="n1" href="###"> <img src="images/pingmu-320.png" alt=""></a>
                                <div class="list"><a href="###">小米8指纹解锁</a></div>
                                <p>3199起</p>
                            </li>
                            <li>
                                <div class="new">新品</div>
                                <a class="n1" href="###"> <img src="images/pingmu-320.png" alt=""></a>
                                <div class="list"><a href="###">小米8指纹解锁</a></div>
                                <p>3199起</p>
                            </li>
                            <li>
                                <div class="new">新品</div>
                                <a class="n1" href="###"> <img src="images/pingmu-320.png" alt=""></a>
                                <div class="list"><a href="###">小米8指纹解锁</a></div>
                                <p>3199起</p>
                            </li>
                        </ul>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="javascript:;" class="link link4">电视</a>
                    <div class="hidden2">
                        <ul>
                            <li>
                                <div class="new">新品</div>
                                <a class="n1" href="###"> <img src="images/pingmu-320.png" alt=""></a>
                                <div class="list"><a href="###">小米8指纹解锁</a></div>
                                <p>3199起</p>
                            </li>
                            <li>
                                <div class="new">新品</div>
                                <a class="n1" href="###"> <img src="images/pingmu-320.png" alt=""></a>
                                <div class="list"><a href="###">小米8指纹解锁</a></div>
                                <p>3199起</p>
                            </li>
                            <li>
                                <div class="new">新品</div>
                                <a class="n1" href="###"> <img src="images/pingmu-320.png" alt=""></a>
                                <div class="list"><a href="###">小米8指纹解锁</a></div>
                                <p>3199起</p>
                            </li>
                            <li>
                                <div class="new">新品</div>
                                <a class="n1" href="###"> <img src="images/pingmu-320.png" alt=""></a>
                                <div class="list"><a href="###">小米8指纹解锁</a></div>
                                <p>3199起</p>
                            </li>
                        </ul>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="javascript:;" class="link link5">笔记本</a>
                    
                    <div class="hidden2">
                        <ul>
                            <li>
                                <div class="new">新品</div>
                                <a class="n1" href="###"> <img src="images/pingmu-320.png" alt=""></a>
                                <div class="list"><a href="###">小米8指纹解锁</a></div>
                                <p>3199起</p>
                            </li>
                            <li>
                                <div class="new">新品</div>
                                <a class="n1" href="###"> <img src="images/pingmu-320.png" alt=""></a>
                                <div class="list"><a href="###">小米8指纹解锁</a></div>
                                <p>3199起</p>
                            </li>
                            <li>
                                <div class="new">新品</div>
                                <a class="n1" href="###"> <img src="images/pingmu-320.png" alt=""></a>
                                <div class="list"><a href="###">小米8指纹解锁</a></div>
                                <p>3199起</p>
                            </li>
                        </ul>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="javascript:;" class="link link6">空调</a>
                    <div class="hidden2">
                        <ul>
                            <li>
                                <div class="new">新品</div>
                                <a class="n1" href="###"> <img src="images/pingmu-320.png" alt=""></a>
                                <div class="list"><a href="###">小米8指纹解锁</a></div>
                                <p>3199起</p>
                            </li>
                        </ul>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="javascript:;" class="link link7">新品</a>
                    <div class="hidden2">
                        <ul>
                            <li>
                                <div class="new">新品</div>
                                <a class="n1" href="###"> <img src="images/pingmu-320.png" alt=""></a>
                                <div class="list"><a href="###">小米8指纹解锁</a></div>
                                <p>3199起</p>
                            </li>
                            <li>
                                <div class="new">新品</div>
                                <a class="n1" href="###"> <img src="images/pingmu-320.png" alt=""></a>
                                <div class="list"><a href="###">小米8指纹解锁</a></div>
                                <p>3199起</p>
                            </li>
                        </ul>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="javascript:;" class="link link8">路由器</a>
                    <div class="hidden2">
                        <ul>
                            <li>
                                <div class="new">新品</div>
                                <a class="n1" href="###"> <img src="images/pingmu-320.png" alt=""></a>
                                <div class="list"><a href="###">小米8指纹解锁</a></div>
                                <p>3199起</p>
                            </li>
                            <li>
                                <div class="new">新品</div>
                                <a class="n1" href="###"> <img src="images/pingmu-320.png" alt=""></a>
                                <div class="list"><a href="###">小米8指纹解锁</a></div>
                                <p>3199起</p>
                            </li>
                            <li>
                                <div class="new">新品</div>
                                <a class="n1" href="###"> <img src="images/pingmu-320.png" alt=""></a>
                                <div class="list"><a href="###">小米8指纹解锁</a></div>
                                <p>3199起</p>
                            </li>
                        </ul>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="javascript:;" class="link link9">智能硬件</a>
                </li>
                <li class="nav-item">
                    <a href="javascript:;" class="link
">服务</a>
                </li>
                <li class="nav-item">
                    <a href="javascript:;" class="link">社区</a>
                </li>
            </ul>
            
            
            
            
        
        </div>
        <div class="header-search">
            <form>
                <input type="search" class="search-text">
                <input type="submit" class="search-btn" value=" ">
                <div class="search-hot">
                    <a href="javascript:;">小米8</a>
                    <a href="javascript:;">小米MIX 28</a>
                </div>
            </form>
        </div>
    </div>

</div>
<div class="m8Name ">
    <div class="m8box">
        <h2>小米8 青春版</h2>
        <div class="m8list">
            <a href="javascript:;">概述</a>
            <span class="sep">|</span>
            <a href="javascript:;">图集</a>
            <span class="sep">|</span>
            <a href="javascript:;">参数</a>
            <span class="sep">|</span>
            <a href="javascript:;">F码通道</a>
            <span class="sep">|</span>
            <a href="javascript:;">用户评价</a>
        </div>
    </div>
</div>
<div id="noLogin">
    <div class="noLoginBox" id="noLogin">
        <span>为方便您购买，请提前登录</span>
        <a href="###" class="a1">立即登录</a>
        <a href="###" class="a2">×</a>
    </div>
</div>
<div class="m8Name  m8Bar" id="bb1">
    <div class="m8box">
        <h2>小米8 青春版</h2>
        <div class="m8list">
            <a href="javascript:;">概述</a>
            <span class="sep">|</span>
            <a href="javascript:;">图集</a>
            <span class="sep">|</span>
            <a href="javascript:;">参数</a>
            <span class="sep">|</span>
            <a href="javascript:;">F码通道</a>
            <span class="sep">|</span>
            <a href="javascript:;">用户评价</a>
        </div>
    </div>
</div>
<div id="m8Show" class="main" >
    <div class="m8_left">
        <div class="m8_img" id="m8_img">
            <div class="swiper-container">
                <div class="swiper-wrapper navlist">
                    <!-- <div class="swiper-slide"><img src="images/h1.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="images/h2.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="images/h3.jpg" alt=""></div>
                    <div class="swiper-slide"><img src="images/h4.jpg" alt=""></div> -->
                </div>
                <!-- 如果需要分页器 -->
                <div class="swiper-pagination"></div>

                <!-- 如果需要导航按钮 -->
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>

                <!-- 如果需要滚动条 -->
                <!--<div class="swiper-scrollbar"></div>-->
            </div>
        </div>
    </div>
    <div class="m8_right" id="m8_right">
        <h1>小米8 青春版</h1>
        <p><span>「新品火热抢购中」</span>潮流镜面渐变色 / 2400万自拍旗舰 / 7.5mm超薄机身 / 6.26"小刘海全面屏 / AI裸妆美颜 / 骁龙660AIE处理器</p>
        <em class="price active">1399元</em>
        <h2><span>赠品</span>赠米粉卡，内含100元话费</h2>
        <div class="default_address">
            <div class="address_info">
                <i></i>
                <span>北京</span>
                <span>北京市</span>
                <span>东城区</span>
                <span>永定门外街道</span>
                <a href="##">修改</a>
            </div>
        </div>
        <div class="step_title">
            选择版本
        </div>
         <ul id="shopList">
             <li class="m_active"><a href="##"><span class="name">4GB+64GB 全网通</span><span class="price1" amount="1399">1399元</span></a></li>
             <li><a href="##"><span class="name">6GB+64GB 全网通</span><span class="price1" amount="1699">1699元</span></a></li>
             <li><a href="##"><span class="name">6GB+128GB 全网通</span><span class="price1" amount="1999">1999元</span></a></li>
         </ul>
        <div class="step_title">
            选择颜色
        </div>
        <ul class="phoneColorList">
            <li class="m_active ac1 "><a href="##"><span class="color">深空灰</span></a></li>
            <li class=" ac1 "><a href="##"><span class="color">梦幻蓝</span></a></li>
            <li class=" ac1 "><a href="##"><span class="color">暮光金</span></a></li>
        </ul>
        <div class="step_title">
            选择小米提供的保障服务
            <span class="reserve"><a href="###">了解保障服务 ></a></span>
        </div>
        <ul class="m8_server">
            <li>
                <div class="serverL">
                    <i>
                        <em>√</em>
                    </i>
                    <img src="images/reserve.jpg" alt="">
                </div>
                <div  class="serverR">
                    <span class="name">
                        意外保障服务
                    </span>
                    <p class="desc">手机意外摔落/进水/碾压等损坏</p>
                    <p class="arguments">我已阅读 <span>服务条款</span>|<span>常见问题</span></p>
                </div>
                <span class="money">99元</span>
            </li>
            <li>
                <div class="serverL">
                    <i>
                        <em>√</em>
                    </i>
                    <img src="images/reserve.jpg" alt="">
                </div>
                <div  class="serverR">
                    <span class="name">
                        碎屏保障服务
                    </span>
                    <p class="desc">手机意外碎屏</p>
                    <p class="arguments">我已阅读 <span>服务条款</span>|<span>常见问题</span></p>
                </div>
                <span class="money">59元</span>
            </li>
        </ul>
        <div class="pro-list">
        <ul>
                <li class="pro">
                    小米8 青春版 4GB+64GB 深空灰
                    <span>1399元</span>
                </li>
                <li class="fuwu">
                        碎屏保障服务
                        <span></span>
                    </li>
                <li class="totlePrice">
                    总计 ：1399元
                </li>
            </ul>
            <div class="buyBtn">
                <a href="###" class="buy">加入购物车</a>
                <a href="###" class="ai">喜欢</a>
            </div>
        </div>
    </div>

</div>
<section class="xm_replay">
    <div class="xm_service main">
        <ul>
            <li class="li-frist "><a href="javascript:;"><i></i>预约维修服务</a></li>
            <li><a href="javascript:;"><i></i>7天无理由退货</a></li>
            <li><a href="javascript:;"><i></i>15天免费退货</a></li>
            <li><a href="javascript:;"><i></i>满150元包邮</a></li>
            <li><a href="javascript:;"><i></i>520余家售后网点</a></li>
        </ul>
    </div>
    <div class="xm_help main">
        <div class="help_left">
            <dl class="left_links">
                <dt>帮助中心</dt>
                <dd><a href="###">账号管理</a></dd>
                <dd><a href="###">购物指南</a></dd>
                <dd><a href="###">订单操作</a></dd>
            </dl>
            <dl>
                <dt>帮助中心</dt>
                <dd><a href="###">账号管理</a></dd>
                <dd><a href="###">购物指南</a></dd>
                <dd><a href="###">订单操作</a></dd>
            </dl>
            <dl>
                <dt>帮助中心</dt>
                <dd><a href="###">账号管理</a></dd>
                <dd><a href="###">购物指南</a></dd>
                <dd><a href="###">订单操作</a></dd>
            </dl>
            <dl>
                <dt>帮助中心</dt>
                <dd><a href="###">账号管理</a></dd>
                <dd><a href="###">购物指南</a></dd>
                <dd><a href="###">订单操作</a></dd>
            </dl>
            <dl>
                <dt>帮助中心</dt>
                <dd><a href="###">账号管理</a></dd>
                <dd><a href="###">购物指南</a></dd>
                <dd><a href="###">订单操作</a></dd>
            </dl>
        </div>
        <div class="help_right">
            <h2>400-100-5678</h2>
            <p>周一至周日 8:00-18:00</p>
            <p>（仅收市话费）</p>
            <a class="xm_KF">联系客服</a>
        </div>
    </div>
</section>
<footer>
    <div class="xm_footer main">
        <div class="footer_left">
            <div class="footer_logo"></div>
            <p>
                <a href="###">小米商城</a><span>|</span>
                <a href="###">MIUI</a><span>|</span>
                <a href="###">米家</a><span>|</span>
                <a href="###">米聊</a><span>|</span>
                <a href="###">多看</a><span>|</span>
                <a href="###">路由器</a><span>|</span>
                <a href="###">游戏</a><span>|</span>
                <a href="###">米粉卡</a><span>|</span>
                <a href="###">政企服务</a><span>|</span>
                <a href="###">小米天猫店</a><span>|</span>
                <a href="###">隐私政策</a><span>|</span>
                <a href="###">问题反馈</a><span>|</span>
                <a href="###">廉正举报</a><span>|</span>
                <a href="###">Select Region</a><span>|</span>

            </p>
            <p>© mi.com 京ICP证110507号 京ICP备10046444号 京公网安备11010802020134号 京网文[2017]1530-131号 营业执照 </p>
            <p>违法和不良信息举报电话：185-0130-1238，本网站所列数据，除特殊说明，所有数据均出自我司实验室测试</p>
        </div>
        <div class="footer_right">
            <a href="###"><img src="images/f1.png" alt=""></a>
            <a href="###"><img src="images/f2.png" alt=""></a>
            <a href="###"><img src="images/f3.png" alt=""></a>
            <a href="###"><img src="images/f4.png" alt=""></a>
            <a href="###"><img src="images/f5.png" alt=""></a>
        </div>
    </div>
</footer>
</body>
</html>

<script src="js/jquery-1.11.3.js"></script>
<script src="js/swiper-3.4.2.min.js"></script>
<script>
    
</script>

<script src="js/m8.js"></script>
<script>
    $(function() {
        const $phoneColorList = $('.phoneColorList li');
        const $navlist = $('.navlist');
        var NavList = null;
        var totalPrice = 1399;
        var totalPrice1 = 0;
//        navList 鼠标移入移出效果
        $('.header-nav ul li').hover(function () {
            console.log(this);
            $(this).find('.hidden2').addClass('active').parent('li').siblings('li').find('.hidden2').removeClass('active')
        },function() {
            $(this).find('.hidden2').removeClass('active')
        });


        // 渲染左侧商品轮播图
        function getList() {
            $.ajax({
                url: 'json/data.json',
                type: 'GET',
                dataType: 'JSON',
                success: (data) => {
                    console.log(data);
                    NavList = data.swiperList;
                    let swiperList = data.swiperList;
                    let str = '';
                    swiperList.blackList.forEach(item => {
                        str += `<div class="swiper-slide"><img src="${item}" alt=""></div>`
                    });
                    $navlist.html(str);
                    InitSwiper();

                },
                error: (err) => {

                }
            })
        }
        getList();
        //实现点击颜色切换效果
        $(document).on('click', '.phoneColorList li', function() {
            
            let colorPhone = $(this).find('span').text(); //span上写着的颜色
            let str = '';
//            console.log($($(this))[0]);
            $('.phoneColorList li').removeClass('m_active');//边框颜色
            $(this).addClass('m_active');
            if (colorPhone === '深空灰') {
                NavList['blackList'].forEach(items => {//json中的blackList
                    str += `<div class="swiper-slide"><img src="${items}" alt=""></div>`
                });
            } else if (colorPhone === '梦幻蓝') {
                NavList['blueList'].forEach(items => {
                    str += `<div class="swiper-slide"><img src="${items}" alt=""></div>`
                })
                
            } else {
                NavList['redList'].forEach(items => {
                    str += `<div class="swiper-slide"><img src="${items}" alt=""></div>`
                })
            }
            $navlist.html(str);
            InitSwiper()
        });

        //金钱操作
        $('.fuwu').hide();
        $('#shopList li').on('click', function(){
            $('#shopList li').removeClass('m_active');
            $(this).addClass('m_active');
            let price = $(this).find('.price1').text().split('元')[0];
            totalPrice = Number(price);
            $('.m8_right .price').text(`${totalPrice}元`);
            if ($('.m8_server li').hasClass('m8_server_active')) {
                $('.totlePrice').text(`总计：${totalPrice +totalPrice1}元`)
            } else {
                $('.totlePrice').text(`总计：${totalPrice}元`)
            }
        })
        $('.m8_server li').on('click', function(){
            let price = $(this).find('.money').text().split('元')[0];
//            let name = $(this).find('.name').text();
            $('.fuwu').show();
            if ($(this).hasClass('m8_server_active')) {
                $(this).removeClass('m8_server_active');
                $('.fuwu').hide();
                $('.totlePrice').text(`总计：${totalPrice}元`);
                return;
            }

            $('.m8_server li').removeClass('m8_server_active');
            $(this).addClass('m8_server_active');
//            $('.fuwu').find('span').text(`${name}`);
            $('.fuwu').find('span').text(`${price}元`);
            totalPrice1 = Number(price);
            $('.totlePrice').text(`总计：${totalPrice +totalPrice1}元`)
        });

        function InitSwiper() {
            var mySwiper = new Swiper ('.swiper-container', {
                direction: 'horizontal',
                loop: true,
                effect : 'fade',
                fade: {
                    crossFade: false,
                },
                paginationClickable :true,
                // 如果需要分页器
                pagination: '.swiper-pagination',

                // 如果需要前进后退按钮
                nextButton: '.swiper-button-next',
                prevButton: '.swiper-button-prev',
            })
        }
    });
    
</script>
